:root{
  --bg:#f3f4f6;
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --primary:#2563eb;
  --accent:#f97316;
  --danger:#ef4444;
  --radius:16px;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}
@media (prefers-color-scheme: dark){
  :root{ --bg:#0b0f14; --card:#0f1520; --text:#e5e7eb; --muted:#9aa3b2; --shadow:0 18px 50px rgba(0,0,0,.45); }
}
body[data-theme="dark"]{ --bg:#0b0f14; --card:#0f1520; --text:#e5e7eb; --muted:#9aa3b2; --shadow:0 18px 50px rgba(0,0,0,.45); }

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font-family:'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Helvetica, Arial, sans-serif;
  display:flex; flex-direction:column; min-height:100vh;
}
img{max-width:100%; display:block}

/* Containers & layout */
.container{max-width:1200px; margin:0 auto; padding:16px}
.row{display:flex; align-items:center; gap:12px}
.row.spread{justify-content:space-between}
.row.vcenter{align-items:center}
.row.wrap{flex-wrap:wrap}
.row.end{justify-content:flex-end}
.row.gap{gap:8px}
.center{text-align:center}
.mt{margin-top:12px}
.mb{margin-bottom:8px}

.topbar{
  position:sticky; top:0; z-index:50;
  background:var(--card); border-bottom:1px solid rgba(0,0,0,.06);
  box-shadow:0 4px 12px rgba(0,0,0,.04);
}
.logo{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px}
.logo .mark{width:12px; height:12px; border-radius:50%; background:linear-gradient(45deg,var(--primary),var(--accent)); box-shadow:0 0 0 4px rgba(37,99,235,.15)}

.search{display:flex; flex:1; max-width:680px; position:relative}
.search input{
  flex:1; padding:12px 44px 12px 14px; border:1px solid rgba(0,0,0,.1);
  background:transparent; color:var(--text); border-radius:999px; outline:none;
}
.search .btn{ position:absolute; right:6px; top:6px; bottom:6px; border-radius:999px }

/* Suggestions */
.sugg{position:absolute; top:48px; left:0; right:0; background:var(--card); border:1px solid rgba(0,0,0,.08); border-radius:12px; box-shadow:var(--shadow); overflow:hidden; display:none; z-index:25; max-height:280px; overflow:auto}
.sugg li{list-style:none; padding:10px 12px; display:flex; gap:10px; align-items:center; cursor:pointer}
.sugg li:hover{background:rgba(37,99,235,.08)}
.sugg img{width:40px;height:40px;object-fit:cover;border-radius:8px;border:1px solid rgba(0,0,0,.06)}

/* Buttons */
.btn{ background:linear-gradient(90deg, var(--primary), #3b82f6); color:#fff; border:none; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:800; box-shadow:var(--shadow); transition: transform .12s ease, filter .2s ease }
.btn:hover{ transform: translateY(-1px) }
.btn:active{ transform: translateY(1px) }
.btn.ghost{ background: transparent; color:var(--text); border:1px solid rgba(0,0,0,.12) }
.btn.primary{}
.btn.danger{ background:linear-gradient(90deg, var(--danger), #b91c1c) }

/* Cart button */
.cart-btn{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  background:transparent; color:var(--text); border:1px solid rgba(0,0,0,.12); height:42px; width:46px; border-radius:12px; cursor:pointer;
}
.cart-btn::after{
  content: attr(data-count);
  position:absolute; top:-6px; right:-6px; background:#ef4444; color:#fff; font-weight:800;
  width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px;
  box-shadow:0 0 0 3px rgba(239,68,68,.25);
}

/* Layout */
.layout{display:grid; grid-template-columns: 300px 1fr; gap:16px; flex:1}
.sidebar{display:flex; flex-direction:column; gap:16px}
.content{min-width:0}

/* Cards (sin bordes visibles) */
.card{
  background:var(--card);
  border:1px solid rgba(0,0,0,.04); /* imperceptible */
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:14px;
}
.card.soft{padding:16px}
.p12{padding:12px}
.title{margin:8px 0 10px; font-size:1.02rem}

/* Biz list */
.biz-list{display:flex; flex-direction:column; gap:10px; max-height:420px; overflow:auto}
.biz{ text-align:left; padding:10px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.06); background:transparent; cursor:pointer }
.biz:hover{ background:rgba(37,99,235,.06) }
.biz-name{ display:flex; align-items:center; gap:6px; font-weight:700 }
.v-badge{ color:var(--primary); display:inline-flex; align-items:center; }

/* Filters in aside (texto subrayado) */
.filters{ display:flex; flex-wrap:wrap; gap:10px }
.filter-link{
  background:none; border:none; padding:2px 0; font-weight:800; color:var(--text); cursor:pointer;
  border-bottom:2px solid transparent;
}
.filter-link.active{ color:var(--primary); border-bottom-color:var(--primary) }
.filter-link:hover{ border-bottom-color:var(--primary) }

/* Ads */
.ads{ position:relative; overflow:hidden; border-radius:12px }
.ads-track{ display:flex; transition: transform .45s ease }
.ad{ min-width:100%; flex-shrink:0; text-decoration:none; color:inherit; text-align:center }
.ad img{ width:100%; height:180px; object-fit:cover; filter:saturate(1.05) }
.ad span{ display:block; padding:8px 0 4px; font-weight:700 }
.ads-nav{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-top:8px }
.ads-btn{ background:linear-gradient(90deg, var(--primary), #3b82f6); color:#fff; border:none; width:36px; height:36px; border-radius:10px; cursor:pointer; box-shadow:var(--shadow) }
.ads-dots{ display:flex; gap:6px; flex:1; justify-content:center }
.dot{ width:8px; height:8px; border-radius:50%; background:#cfcfcf; border:none }
.dot.active{ background:linear-gradient(90deg, var(--primary), #3b82f6) }

/* Featured carousel */
.featured{ margin:8px 0 12px }
.hidden{ display:none }
.feat-track{ display:flex; transition: transform .45s ease; border-radius:12px; overflow:hidden }
.feat-slide{ min-width:100%; position:relative }
.feat-slide img{ width:100%; height:220px; object-fit:cover }
.feat-caption{ position:absolute; left:12px; bottom:10px; background:rgba(0,0,0,.5); color:#fff; padding:6px 10px; border-radius:10px; font-weight:800 }
.feat-nav{ display:flex; align-items:center; justify-content:space-between; gap:8px; margin-top:8px }
.feat-btn{ background:linear-gradient(90deg, var(--primary), #3b82f6); color:#fff; border:none; width:36px; height:36px; border-radius:10px; cursor:pointer; box-shadow:var(--shadow) }
.feat-dots{ display:flex; gap:6px; flex:1; justify-content:center }

/* Products grid */
.grid{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:16px }
.product{ padding:0; overflow:hidden }
.product .thumb{ width:100%; aspect-ratio:4/3; object-fit:cover; display:block }
.price{ color:#B12704; font-weight:900 }
.chip{ display:inline-block; font-size:12px; padding:4px 8px; border:1px solid rgba(0,0,0,.08); border-radius:999px; background:rgba(0,0,0,.03) }

/* Pagination */
.pagination{ display:flex; gap:6px; flex-wrap:wrap }
.page{ min-width:32px; height:32px; border-radius:8px; border:1px solid rgba(0,0,0,.15); background:transparent; cursor:pointer; font-weight:700 }
.page.active{ background:linear-gradient(90deg, var(--primary), #3b82f6); color:#fff; border-color:transparent }

/* Modal */
.modal{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; align-items:center; justify-content:center; padding:16px; z-index:60 }
.dialog{
  background:var(--card); width:min(520px, 100%); max-height:90vh; overflow:auto;
  box-shadow:var(--shadow); border-radius:16px; padding:16px 16px 20px;
  font-family: Arial, Helvetica, sans-serif; /* modal en Arial, como pediste */
}
.cart-line{ display:flex; gap:10px; align-items:flex-start; margin:10px 0 }
.cart-line img{ width:60px; height:60px; object-fit:cover; border-radius:10px; border:1px solid rgba(0,0,0,.08) }
.cart-meta{ flex:1 }
.form{ display:grid; gap:10px }
.form input, .form textarea{
  width:100%; padding:10px; border-radius:10px; border:1px solid rgba(0,0,0,.12); background:transparent; color:var(--text)
}
.totals{ font-weight:900; margin:10px 0 }

.footer{ background:transparent; color:var(--muted); padding:14px; margin-top:auto }

/* Responsive */
@media (max-width:1100px){ .grid{ grid-template-columns: repeat(3,minmax(0,1fr)) } .layout{ grid-template-columns:260px 1fr } }
@media (max-width:900px){ .layout{ grid-template-columns:1fr } .sidebar{ order:2 } .content{ order:1 } .grid{ grid-template-columns: repeat(2,minmax(0,1fr)) } }
@media (max-width:520px){
  .search{ width:100% } .grid{ grid-template-columns: repeat(2, minmax(0,1fr)) } .feat-slide img{ height:190px }
}
